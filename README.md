# MULTIDownload (2025/12/25)

MULTIDownload 是一款基於 [yt-dlp](https://github.com/yt-dlp/yt-dlp) 開發的現代化桌面下載工具，結合了 [CustomTkinter](https://github.com/TomSchimansky/CustomTkinter) 打造的美觀介面。專為解決複雜指令操作而生，提供從單曲到整張歌單的流暢下載體驗。

---

## 核心特色

### 智慧歌單管理 
- **整張下載 / 單曲選取**：貼上播放清單網址後，程式會自動偵測並提示。
- **視覺化選單**：分析完成後按下「加入任務」，即彈出互動視窗，列出所有歌曲讓您勾選。
- **安全防呆流程**：歌單模式下強制鎖定「直接下載」，確保您先確認歌曲清單後再執行。
- **任務展開**：選取的歌曲會自動展開為個別任務加入「等待列表」，您可以最後再確認一次細節。

### 進階字幕系統 
- **多語系支援**：不只下載預設字幕，還能同時勾選多種語言（如繁中、英文、日文）。
- **智慧排序**：自動依據優先權（繁中 > 簡中 > 英文...）排序字幕軌道，確保播放器預設顯示最合適的語言。
- **手動代碼**：支援輸入特殊語言代碼（如 `th`, `vi`），並提供 **代碼查詢表** 按鈕，方便直接查找不知名的語言代碼。

### 強大下載能力
- **高畫質支援**：最高支援 8K 解析度，支援 AV1 / VP9 / H.264 編碼切換。
- **車用相容模式**：一鍵勾選「H.264 (相容模式)」，鎖定 MP4 + AAC 格式，確保舊款車機與電視完美播放。
- **會員限定存取**：內建瀏覽器 Cookie 讀取 (Chrome/Edge/Firefox)，免匯出檔案即可下載會員影片。
- **直播錄製**：支援即時錄製，或從直播開頭追溯下載 (Live from start)。

### 現代化體驗
- **深淺色主題**：內建 Dark/Light 模式切換，舒適護眼。
- **核心熱更新**：內建檢查更新功能，一鍵升級 yt-dlp 核心，對抗 YouTube 演算法變更。
- **詳細資訊**：任務列表顯示完整的格式資訊 (如 `1080p | 320k | H.264`)，進度條即時顯示下載速度與剩餘時間。

---

## 安裝與使用

### 一般使用者 (推薦)
1. 下載最新發布的壓縮包 (ZIP)。
2. 解壓縮至任意資料夾 (內含 FFmpeg，無需額外安裝)。
3. 雙擊 `MULTIDownload.exe` 即可使用。

### 開發者 (Python 原始碼)
若您想自行修改程式碼或透過 Python 執行：

1. **安裝依賴套件**：
   ```bash
   pip install yt-dlp customtkinter
   ```

2. **準備 FFmpeg**：
   需安裝 FFmpeg 並設定環境變數，或將 `ffmpeg.exe` 與 `ffprobe.exe` 放置於專案根目錄。

3. **啟動程式**：
   ```bash
   python main.py
   ```

---

## 操作指南

### 步驟一：基本設定
1. 在 **[影片網址]** 欄位貼上連結。
2. 點擊 **[分析網址]** 按鈕。
   - 程式會抓取影片標題、封面以及可用的字幕列表。
   - **若是歌單**：分析後會提示您設定格式，接著請按「加入任務」來選歌。
3. 設定 **[下載位置]** (預設為當前目錄)。

### 步驟二：選擇格式 
- 到 **[格式/畫質]** 分頁。
- **相容性優先 (推薦)**：
  - 勾選 **[H.264 (相容模式)]**。
  - 程式會自動鎖定音訊為 AAC，確保車機/電視能完美播放。
- **畫質優先**：
  - 取消勾選 H.264。
  - 影片解析度可選最高 (Best/4K/8K)，音訊建議選 Auto (Opus) 獲得最佳壓縮比。

### 步驟三：字幕設定
- 勾選您需要的語言 (繁中/簡中/英文...)。
- **進階需求**：勾選「其他 (自訂)」，輸入語言代碼 (如 `th, vi`)。
- 系統會自動將繁體中文設為預設軌道。

### 步驟四：開始下載
- **單曲**：點擊 **[加入任務]** 或 **[開始下載]**。
- **歌單**：點擊 **[加入任務]** -> 彈窗選歌 -> 確認 -> 前往 **[任務列表]** 頁籤 -> 按下 **[下載選取項目]**。

---

## 常見問題 (FAQ)

**Q: 下載的影片在車上播放沒有聲音？**
A: 這通常是因為影片使用了 Opus 音訊編碼。請在格式設定中勾選 **「H.264 (相容模式)」**，即可解決此問題。

**Q: 如何下載會員/年齡限制影片？**
A: 請在瀏覽器上登入 YouTube 帳號，然後在程式的 [進階選項] 中勾選對應的瀏覽器 (例如 Chrome)。

**Q: 下載到一半出現錯誤？**
A: 這種情況通常是網路不穩或防毒軟體干擾。程式內建自動重試機制，或是您可以勾選「獨立執行」來嘗試更穩定的下載。

---

## License
本專案僅供學習與個人使用。使用時請務必遵守目標網站的服務條款與版權規範。
核心下載功能由 [yt-dlp](https://github.com/yt-dlp/yt-dlp) 提供。
